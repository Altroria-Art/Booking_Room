<script setup>
// ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ó‡∏≥ dynamic ‡∏à‡∏≤‡∏Å API ‡∏´‡∏£‡∏∑‡∏≠ database ‡∏Å‡πá‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô props / fetch ‡πÑ‡∏î‡πâ
const reviews = [
  {
    stars: 4,
    text: "‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏∞‡∏≠‡∏≤‡∏î ‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®‡∏î‡∏µ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏≠‡πà‡∏≤‡∏ô‡∏´‡∏ô‡∏±‡∏á‡∏™‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡πÜ ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á",
    name: "‡∏ò‡∏ô‡∏û‡∏£ ‡πÅ‡∏™‡∏ô‡∏Ñ‡∏≥",
    code: "67025044",
    avatar: "/img/avatar1.jpg"
  },
  {
    stars: 5,
    text: "‡∏´‡πâ‡∏≠‡∏á‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ‡πÜ",
    name: "‡∏ò‡∏ô‡∏û‡∏£ ‡πÅ‡∏™‡∏ô‡∏Ñ‡∏≥",
    code: "67025044",
    avatar: "/img/avatar2.jpg"
  },
  {
    stars: 5,
    text: "‡∏´‡πâ‡∏≠‡∏á‡∏î‡∏µ‡∏°‡∏≤‡∏Å ‡∏°‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏™‡∏∞‡∏î‡∏ß‡∏Å ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏¢‡πá‡∏ô‡∏™‡∏ö‡∏≤‡∏¢",
    name: "‡∏ò‡∏ô‡∏û‡∏£ ‡πÅ‡∏™‡∏ô‡∏Ñ‡∏≥",
    code: "67025044",
    avatar: "/img/avatar3.jpg"
  },
  {
    stars: 4,
    text: "very good mak mak",
    name: "‡∏™‡∏°‡∏û‡∏• ‡∏´‡∏¢‡∏≠‡∏î‡∏¢‡πâ‡∏≠‡∏¢",
    code: "67022928",
    avatar: "" // ‡∏ó‡∏¥‡πâ‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏™ fallback ‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô
  }
]

// ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏ö‡∏ö SVG (data URI) ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô / ‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏π‡∏õ‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
const defaultAvatar =
  'data:image/svg+xml;utf8,' +
  encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#111">
      <circle cx="12" cy="7.5" r="3.5"/>
      <path d="M12 13c-4 0-8 2-8 5.2V20h16v-1.8C20 15 16 13 12 13z"/>
    </svg>
  `)

// ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î src ‡∏£‡∏π‡∏õ: ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ r.avatar -> ‡πÉ‡∏ä‡πâ‡∏≠‡∏±‡∏ô‡∏ô‡∏±‡πâ‡∏ô, ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏´‡πâ fallback ‡πÄ‡∏õ‡πá‡∏ô defaultAvatar
const srcOrDefault = (src) => src && src.trim() ? src : defaultAvatar
</script>

<template>
  <section class="wrap">
    <!-- ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ -->
    <div class="review-title">
      <span class="bar"></span>
      <h2>Review <span class="hl">Room</span></h2>
    </div>
    <h3 class="subtitle">‡∏ä‡πà‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô</h3>

    <!-- ‡∏õ‡∏∏‡πà‡∏° -->
    <div style="display:flex; justify-content:flex-end; margin: 8px 0 20px;">
      <button class="review-cta">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    </div>

    <!-- ‡∏Å‡∏£‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πå‡∏î -->
    <div class="review-grid">
      <article v-for="(r,idx) in reviews" :key="idx" class="review-card">
        <div class="stars">
          <span v-for="n in r.stars" :key="`f-${n}`" class="star">‚òÖ</span>
          <span v-for="n in (5 - r.stars)" :key="`e-${n}`" class="star empty">‚òÜ</span>
        </div>

        <p class="content">{{ r.text }}</p>

        <!-- ‡∏ú‡∏π‡πâ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß (‡∏ä‡∏¥‡∏î‡∏•‡πà‡∏≤‡∏á) -->
        <div class="reviewer">
          <div class="avatar">
            <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏π‡∏õ ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ; ‡∏ñ‡πâ‡∏≤‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÉ‡∏´‡πâ fallback ‡πÄ‡∏õ‡πá‡∏ô defaultAvatar -->
            <img
              :src="srcOrDefault(r.avatar)"
              alt="profile"
              @error="(e) => { e.target.src = defaultAvatar }"
            />
          </div>
          <div>
            <div class="name">{{ r.name }}</div>
            <div class="code">{{ r.code }}</div>
          </div>
        </div>
      </article>
    </div>
  </section>
</template>

<style scoped>
/* section title */
.review-title {
  display: flex;
  align-items: center;
  gap: 12px;
  margin: 8px 0 12px;
}
.review-title .bar { width:4px; height:28px; background:#5b6ef5; border-radius:2px; }
.review-title h2 { margin:0; font-size:28px; color:#374151; font-weight:800; }
.review-title .hl { color:#5b6ef5; }
.subtitle { margin:0 0 20px; font-size:18px; font-weight:700; color:#1f2937; }

/* ‡∏õ‡∏∏‡πà‡∏° ‚Äú‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‚Äù */
.review-cta {
  background: #eef2ff;
  color: #1e40af;
  border: 1px solid #c7d2fe;
  padding: 10px 16px;
  border-radius: 14px;
  box-shadow: 0 8px 24px rgba(91,110,245,.20);
  transition: transform .15s ease, box-shadow .15s ease;
  white-space: nowrap;
}
.review-cta:hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 28px rgba(91,110,245,.28);
}

/* ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏£‡∏µ‡∏ß‡∏¥‡∏ß */
.review-card {
  background: linear-gradient(180deg,#5b6ef5 0%, #4f5bd4 100%);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 14px;
  color: #eef2ff;
  box-shadow:
    0 8px 22px rgba(41,53,170,.26),
    inset 0 1px 0 rgba(255,255,255,.12);
  padding: 18px 20px;
  transition: transform .15s ease, box-shadow .15s ease;

  /* üëá ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ö‡∏ô‡∏•‡∏á‡∏•‡πà‡∏≤‡∏á */
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* ‡∏î‡∏±‡∏ô reviewer ‡∏•‡∏á‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î */
  min-height: 220px; /* ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (‡∏õ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ) */
}

/* ‡∏î‡∏≤‡∏ß‡πÅ‡∏ö‡∏ö‡∏ß‡∏á‡∏Å‡∏•‡∏° */
.stars{
  display:flex;
  gap:14px;
  margin-bottom:12px;
}
.star{
  width:28px;
  height:28px;
  border-radius:50%;
  display:grid;
  place-items:center;
  background:#373a4a;
  color:#ffd84d;
  font-size:16px;
  line-height:1;
  box-shadow: inset 0 0 0 2px rgba(255,255,255,.06);
}
.star.empty{
  background: rgba(255,255,255,.16);
  color:#8fa0ff;
}

/* ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏£‡∏µ‡∏ß‡∏¥‡∏ß */
.content {
  font-size: 13px;
  line-height: 1.55;
  color: #e8edff;
  word-wrap: break-word;
  overflow-wrap: break-word;
  white-space: normal;
  margin-bottom: 12px; /* ‡πÄ‡∏ß‡πâ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏Å‡πà‡∏≠‡∏ô reviewer */
}

/* ‡∏ú‡∏π‡πâ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏ä‡∏¥‡∏î‡∏•‡πà‡∏≤‡∏á */
.reviewer {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: auto;
  padding-top: 10px;
  border-top: 1px solid rgba(255,255,255,.1);
}

/* ‡∏Å‡∏£‡∏≠‡∏ö Avatar + ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏£‡∏π‡∏õ/‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô */
.avatar{
  width: 34px;
  height: 34px;
  border-radius: 50%;
  background: #fff;              /* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á */
  display: grid;
  place-items: center;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0,0,0,.15);
}
.avatar img{
  width: 22px;                   /* ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô SVG icon ‡∏à‡∏∞‡∏î‡∏π‡∏û‡∏≠‡∏î‡∏µ‡πÉ‡∏ô‡∏ß‡∏á‡∏Å‡∏•‡∏° */
  height: 22px;
  object-fit: cover;
  display: block;
}

.name { font-weight: 700; color: #fff; }
.code { font-size: 12px; color: #c7cffc; }

/* ‡∏Å‡∏£‡∏¥‡∏î */
.review-grid {
  display:grid;
  grid-template-columns: repeat(4, minmax(240px, 1fr));
  gap: 30px;
}
@media (max-width:1280px){ .review-grid{ grid-template-columns: repeat(3,1fr);} }
@media (max-width:992px){ .review-grid{ grid-template-columns: repeat(2,1fr);} }
@media (max-width:640px){ .review-grid{ grid-template-columns: 1fr;} }

.wrap { max-width: 1200px; margin: 40px auto; padding: 0 16px; }
</style>
